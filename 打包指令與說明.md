# 打包與執行指令說明

## 📦 快速打包指令

### 1. 開發測試
```bash
npm start
```
在開發時使用，立即啟動應用程式查看效果

### 2. 打包 Windows 執行檔
```bash
npm run build
```
**最簡單的方式！** 一鍵打包成 Windows .exe 執行檔

或使用舊指令：
```bash
npm run package-win
```

### 3. 完整流程
```bash
# 安裝依賴（首次使用或更新後）
npm install

# 測試執行
npm start

# 確認無誤後打包
npm run build
```

## 📁 打包結果

執行打包後，會在專案目錄下生成：
```
分攤計算器-win32-x64/
├── 分攤計算器.exe          ← 主執行檔
├── resources/
│   └── app/                 ← 應用程式原始碼
├── locales/                 ← 語言檔
└── 其他 Electron 相關檔案
```

## 💾 資料儲存位置

執行後，歷史紀錄會自動儲存在應用程式目錄下：
```
分攤計算器-win32-x64/
├── 分攤計算器.exe
├── data/
│   └── history.json         ← 歷史紀錄存放處
├── resources/
└── ...
```

**優點：**
- 資料與程式在一起，方便備份
- 整個資料夾複製到其他電腦就能使用
- 可放在雲端同步資料夾自動同步

詳細說明請參考 [資料儲存說明.md](資料儲存說明.md)

## ⚙️ 打包選項說明

打包指令使用 `electron-packager`，主要參數：
- `--platform=win32` - 打包為 Windows 版本
- `--arch=x64` - 64位元架構
- `--overwrite` - 覆蓋舊版本
- `--icon=icon.ico` - 自訂圖示（可選）
- `--ignore` - 排除不需要的檔案

## 🚀 分發應用程式

打包完成後，將整個 `分攤計算器-win32-x64` 資料夾：
1. 壓縮成 .zip 檔案
2. 分享給其他使用者
3. 解壓縮後執行 `分攤計算器.exe` 即可使用

## ❓ 常見問題

**Q: 為什麼檔案很大（約 150MB）？**  
A: Electron 包含完整的 Chromium 瀏覽器核心，確保在任何電腦上都能正常運作

**Q: 需要安裝 Node.js 才能執行嗎？**  
A: 不需要！打包後的 .exe 是獨立執行檔，可直接在任何 Windows 電腦上執行

**Q: 更新版本後要重新打包嗎？**  
A: 是的，每次修改程式碼後都需要重新執行 `npm run build` 來生成新的 .exe

**Q: 歷史紀錄會消失嗎？**  
A: v1.1.0 之後已改用檔案儲存，關閉程式後資料依然保留